
@{
    ViewBag.Title = "Result";
}
@model HackathonVinci2.Models.ResultModel

<h2>Result for @Model.Month month(s)</h2>
<div class="row">
    <table class="table table-bordered table-striped col-md-6">
        <thead>
            <tr>
                <th></th>
                <th class="col-md-1">Coal</th>
                <th class="col-md-1">Solar</th>
                <th class="col-md-1">Wind</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var rowItem in Model.TableList)
            {
                <tr>
                    <td>@rowItem.Name</td>
                    <td>@rowItem.Coal</td>
                    <td>@rowItem.Solar</td>
                    <td>@rowItem.Wind</td>
                </tr>
            }
        </tbody>
    </table>
    <p id="revenue">Revenue: @Model.ViewErtrag in Euro</p>
    
</div>

@section scripts {
    <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.-->
    <script>
        $(function () {
            // Reference the auto-generated proxy for the hub.
            var chat = $.connection.chatHub;
            // Create a function that the hub can call back to display messages.
            chat.client.addNewMessageToPage = function (revenue) {
                // Add the message to the page.
                $('#revenue').text(htmlEncode(revenue));
            };
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send($('#revenue').val());
                });
            });
        });
        function htmlEncode(value) {
            var encodedValue = $('<div />').text(value).html();
            return encodedValue;
        }
    </script>
}
